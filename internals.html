<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>Internals</title>
		<link rel='stylesheet' href='css/style.css'>
	</head>
	<body>
		<h1 id='Variables'>Variables</h1>
		<div>
			<h2 id='dlvl'>dlvl</h2>
			<div>
				<p><code>dlvl</code> corresponds to a <em>dungeon level</em> and it holds a value between <code>0</code> and <code>16</code>.</p>
<pre>
 0 = Tristram.
 1 = Cathedral, level 1.
 2 = Cathedral, level 2.
 3 = Cathedral, level 3.
 4 = Cathedral, level 4.
 5 = Catacombs, level 1.
 6 = Catacombs, level 2.
 7 = Catacombs, level 3.
 8 = Catacombs, level 4.
 9 = Caves, level 1.
10 = Caves, level 2.
11 = Caves, level 3.
12 = Caves, level 4.
13 = Hell, level 1.
14 = Hell, level 2.
15 = Hell, level 3.
16 = Hell, level 4.
</pre>
			</div>

			<h2 id='dtype'>dtype</h2>
			<div>
				<p><code>dtype</code> corresponds to a <em>dungeon type</em> and it holds a value between <code>0</code> and <code>4</code>.</p>
<pre>
0 = Tristram  (<a href='internals.html#dlvl'>dlvl</a>:       0)
1 = Cathedral (<a href='internals.html#dlvl'>dlvl</a>:  1 -  4)
2 = Catacombs (<a href='internals.html#dlvl'>dlvl</a>:  5 -  8)
3 = Caves     (<a href='internals.html#dlvl'>dlvl</a>:  9 - 12)
4 = Hell      (<a href='internals.html#dlvl'>dlvl</a>: 13 - 16)
</pre>
			</div>

			<h2 id='quest_lvl'>quest_lvl</h2>
			<div>
				<p><code>quest_lvl</code> corresponds to a <em>quest level</em> and it holds a value between <code>1</code> and <code>5</code>.</p>
<pre>
1 = Skeleton King's Lair
2 = Bone Chamber
3 = Maze
4 = Poisoned Water Supply
5 = Archbishop Lazarus' Lair
</pre>
			</div>
		</div>

		<h1 id='Pseudo-random'>Pseudo-random</h1>
		<div>
			<!--
				ref: 465213
			-->
			<p>Pseudo-random number generation is implemented using a <a href='http://en.wikipedia.org/wiki/Linear_congruential_generator'>linear congruential generator</a> with a <em>multiplier</em> of <code>0x15A4E35</code> an <em>increment</em> of <code>1</code>.</p>
<pre>
<a href='internals.html#Seed'>seed</a> = 0x15A4E35 * <a href='internals.html#Seed'>seed</a> + 1
</pre>

			<h2 id='Seed'>Seed</h2>
			<div>
				<p>The seed is used to initialize the <a href='internals.html#Pseudo-random'>PRNG</a> to a deterministic state.</p>
			</div>

			<h2 id='rnd'>rnd</h2>
			<div>
				<p>The <code>rnd(n)</code> function call returns a <a href='internals.html#Pseudo-random'>random</a> value between <code>0</code> and <code>n-1</code>.</p>
			</div>
		</div>
	</body>
</html>
